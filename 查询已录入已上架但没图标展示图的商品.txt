-- 查询已录入、已上架但有没有图标、展示图的商品
select * from commodity
WHERE
	((thumbnail IS NULL or thumbnail ='')
or (small_image IS NULL or small_image =''))
AND (
	STATUS = 'COMMODITY_STATUS_ENTRYED'
	OR STATUS = 'COMMODITY_STATUS_ADDED'
);
-- 已录入、已上架商品个数
select count(*) from commodity c
where 
 (
	c.STATUS = 'COMMODITY_STATUS_ENTRYED'
	OR c.STATUS = 'COMMODITY_STATUS_ADDED'
);
-- 有供货属性的已录入、已上架商品个数
select count(*) from (
select c.*,vbc.id as vbcid from commodity c LEFT JOIN purms_db.vendor_base_commodity vbc
ON 
	c.`code`=vbc.commodity_code
and c.vendor_code = vbc.vendor_code
where 
 (
	c.STATUS = 'COMMODITY_STATUS_ENTRYED'
	OR c.STATUS = 'COMMODITY_STATUS_ADDED'
)) a where a.vbcid is not NULL;

--  
select count(*) from purms_db.vendor_base_commodity;